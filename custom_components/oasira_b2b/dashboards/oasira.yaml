button_card_templates: !include_dir_merge_named "/config/dashboards/templates"

title: "Oasira Business"
theme: "oasira_b2b"
type: sections
max_columns: 3
dense_section_placement: true

views:
  - sections:
      - type: grid
        cards:
          - type: heading
            heading: Summary
          - type: markdown
            content: "{{ states('text.aihomestatussummary') }}"
            grid_options:
              columns: full
        column_span: 4


      - type: grid
        cards:
          - type: heading
            heading: Favorites           
          - type: "custom:auto-entities"
            card:
              type: grid
              square: false
              columns: 2
            card_param: "cards"
            show_empty: false
            filter:
              include:
                - label: "favorite"
                  not:
                    domain: "light"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                    card_mod:
                      style: |
                        ha-card {
                          background: linear-gradient(145deg, rgba(42,176,184,0.9), rgba(71,217,201,0.7));
                          border-radius: 24px;
                          box-shadow: 0 6px 20px rgba(0,0,0,0.12);
                          color: #fff;
                          padding: 16px;
                          font-weight: 500;
                          backdrop-filter: blur(10px);
                          transition: all 0.3s ease;
                        }
                        ha-card:hover {
                          transform: translateY(-3px);
                          box-shadow: 0 8px 28px rgba(0,0,0,0.18);
                        }
                        .content {
                          display: flex;
                          flex-direction: column;
                          align-items: center;
                          justify-content: center;
                          gap: 8px;
                        }
                        .primary {
                          font-size: 1.1em;
                          font-weight: 600;
                        }
                        .secondary {
                          opacity: 0.85;
                        }

                            - label: "favorite"
                              domain: "light"
                              options:
                                type: custom:button-card
                                template: light_tile
                                entity: this.entity_id
                                features_position: bottom
                                vertical: true
                                card_mod:
                          exclude:
                            - state: "unavailable"
                            - hidden_by: "user"
            sort:
              method: name                     

      - type: grid
        cards:
          - type: heading
            heading: People          

          - type: "custom:auto-entities"
            card:
              type: grid
              square: false
              columns: 2
            card_param: cards
            show_empty: false
            filter:
              include:
                - domain: "person"
                  options:
                    type: tile
                    vertical: true
                    hide_state: false
                    show_entity_picture: false
              exclude:
                - state: "unavailable"
                - hidden_by: "user"

      - type: grid
        cards:         
          - type: heading
            heading: Devices On             
          - type: "custom:auto-entities"
            card:
              type: grid
              square: false
              columns: 2
            card_param: cards
            show_empty: false
            filter:
              include:
                - domain: "light"
                  state: 'on'
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id

                - domain: sensor
                  state: 'on'
                  options:
                    type: tile
                    entity: this.entity_id
                    vertical: true
                    state_content: state

                - domain: binary_sensor
                  state: 'on'
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: inline
                    vertical: true
                    state_content: state

                - domain: media_player
                  state: 'playing'
                  options:
                    type: media-control
                    entity: this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 24px;
                          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
                          font-family: "Google Sans", "Roboto", sans-serif;
                          padding: 16px;
                        }

                        .entity__info, .media-info__info {
                          padding-left: 12px;
                        }

                        .media-info__title {
                          font-size: 20px;
                          font-weight: 500;
                          color: #222;
                        }

                        .media-info__subtitle {
                          font-size: 16px;
                          color: #666;
                        }

                        .player {
                          margin-top: 12px;
                        }

                        .player__title, .player__subtitle {
                          font-size: 16px;
                        }

                        .controls {
                          padding-top: 12px;
                        }

                        .slider {
                          --mdc-theme-primary: #333;
                          height: 2px;
                        }

                        .icon-button {
                          color: #222;
                        }

                        mwc-icon-button {
                          --mdc-icon-button-size: 40px;
                        }

              exclude:
                - state: 'off'
                - state: unavailable
                - hidden_by: user
            sort:
              method: name                 
                      
      - type: grid
        cards:
          - type: heading
            heading: Device Types    

          - type: grid
            columns: 2
            square: false
            cards:

              - type: custom:button-card
                name: Lighting
                icon: mdi:ceiling-light-multiple-outline
                show_state: true
                state_display: >
                  [[[ 
                    return Object.values(hass.states)
                      .filter(e => e.entity_id.startsWith('light.') && e.state === 'on')
                      .length + ' On'; 
                  ]]]
                styles:
                  card:
                    - height: 70px   # Adjust this to match your other tile
                    - padding: 5px
                    - justify-content: center
                    - align-items: center
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /lovelace-oasira/lighting

              - type: custom:button-card
                name: Security
                icon: mdi:shield-account-outline
                show_state: true
                state_display: >
                  [[[ 
                    return Object.values(hass.states)
                      .filter(e => e.entity_id.startsWith('binary_sensor.') && e.state === 'on')
                      .length + ' On'; 
                  ]]]

                styles:
                  card:
                    - height: 70px   # Adjust this to match your other tile
                    - padding: 5px
                    - justify-content: center
                    - align-items: center
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /lovelace-oasira/security


              - type: custom:button-card
                name: Cameras
                icon: mdi:camera-enhance-outline
                show_state: true
                state_display: "[[[ return Object.keys(hass.states).filter(e => e.startsWith('camera.')).length + ' Cameras'; ]]]"
                styles:
                  card:
                    - height: 70px   # Adjust this to match your other tile
                    - padding: 5px
                    - justify-content: center
                    - align-items: center
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /lovelace-oasira/cameras

              - type: custom:button-card
                name: Climate
                icon: mdi:thermometer
                show_state: true
                state_display: >
                  [[[ 
                    return Object.values(hass.states)
                      .filter(e => e.entity_id.startsWith('climate.') && e.state === 'on')
                      .length + ' On'; 
                  ]]]
                styles:
                  card:
                    - height: 70px   # Adjust this to match your other tile
                    - padding: 5px
                    - justify-content: center
                    - align-items: center
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /lovelace-oasira/climate

              - type: custom:button-card
                name: Media
                icon: mdi:television-classic
                show_state: true
                state_display: >-
                  [[[ 
                    return Object.values(hass.states)
                      .filter(e => e.entity_id.startsWith('media_player.') && e.state === 'playing')
                      .length + ' Playing'; 
                  ]]]
                styles:
                  card:
                    - height: 70px   # Adjust this to match your other tile
                    - padding: 5px
                    - justify-content: center
                    - align-items: center
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /lovelace-oasira/media

              - type: custom:button-card
                name: Gallery
                icon: mdi:folder-multiple-image
                show_state: true
                state_display: "[[[ return Object.keys(hass.states).filter(e => e.startsWith('media')).length + ' Items'; ]]]"
                styles:
                  card:
                    - height: 70px   # Adjust this to match your other tile
                    - padding: 5px
                    - justify-content: center
                    - align-items: center
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /lovelace-oasira/gallery

              - type: custom:button-card
                name: System
                icon: mdi:cog
                show_state: true
                state_display: "[[[ return Object.keys(hass.states).filter(e => e.startsWith('update')).length + ' Items'; ]]]"
                styles:
                  card:
                    - height: 70px   # Adjust this to match your other tile
                    - padding: 5px
                    - justify-content: center
                    - align-items: center
                    - text-align: center
                tap_action:
                  action: navigate
                  navigation_path: /lovelace-oasira/system
      

      - type: grid
        columns: 1
        cards:
          - type: heading
            heading: Suggestions    
          - type: custom:button-card
            entity: text.aimaintenancesuggestion
            show_name: false
            show_state: true
            name: Maintenance Suggestion
            icon: mdi:tools
            styles:
              icon:
                - width: 15px
                - height: 15px
              card:
                - padding: 20px
                - font-size: 16px
                - text-align: left
                - border-radius: 15px
                - background-color: var(--paper-card-background-color)
                - color: var(--primary-text-color)
                - white-space: normal
                - height: auto
              state:
                - font-style: italic
                - font-size: 16px
                - white-space: normal
                - overflow-wrap: break-word
                - text-align: left
            tap_action:
              action: none

          - type: custom:button-card
            entity: text.aienergysuggestion
            name: Energy Suggestion
            show_state: true
            show_name: false
            styles:
              icon:
                - width: 15px
                - height: 15px
              card:
                - padding: 20px
                - font-size: 16px
                - text-align: left
                - border-radius: 15px
                - background-color: var(--paper-card-background-color)
                - color: var(--primary-text-color)
                - white-space: normal
                - height: auto
              state:
                - font-style: italic
                - font-size: 16px
                - white-space: normal
                - overflow-wrap: break-word
                - text-align: left
            tap_action:
              action: none

          - type: custom:button-card
            entity: text.aiclimatesuggestion
            name: Climate Suggestion
            show_state: true
            show_name: false
            styles:
              icon:
                - width: 15px
                - height: 15px
              card:
                - padding: 20px
                - font-size: 16px
                - text-align: left
                - border-radius: 15px
                - background-color: var(--paper-card-background-color)
                - color: var(--primary-text-color)
                - white-space: normal
                - height: auto
              state:
                - font-style: italic
                - font-size: 16px
                - white-space: normal
                - overflow-wrap: break-word
                - text-align: left
            tap_action:
              action: none

          - type: custom:button-card
            entity: text.aisafetysuggestion
            name: Safety Suggestion
            show_state: true
            show_name: false
            styles:
              icon:
                - width: 15px
                - height: 15px
              card:
                - padding: 20px
                - font-size: 16px
                - text-align: left
                - border-radius: 15px
                - background-color: var(--paper-card-background-color)
                - color: var(--primary-text-color)
                - white-space: normal
                - height: auto
              state:
                - font-style: italic
                - font-size: 16px
                - white-space: normal
                - overflow-wrap: break-word
                - text-align: left
            tap_action:
              action: none

      - type: grid
        columns: 1
        cards:
        - type: heading
          heading: Voice Control   
        - type: "custom:auto-entities"
          card:
            type: "grid"
            columns: 2
            square: false
          card_param: "cards"
          filter:
            include:
              - domain: "assist_satellite"
                options:
                  type: "custom:button-card"
                  entity: this.entity_id
                  name: Assistant
                  icon: mdi:microphone-message
                  layout: vertical
                  tap_action:
                    action: more-info
                  show_state: true
                  show_name: false
                  show_icon: false

                  state_display: >
                    [[[
                      const state = states[entity.entity_id].state;
                      if (state === 'listening') return 'ðŸŽ™ï¸ Listening...';
                      if (state === 'processing') return 'ðŸŽ™ï¸ Processing...';
                      if (state === 'responding') return 'ðŸŽ™ï¸ Responding...';
                      return 'Idle';
                    ]]]
                  custom_fields:
                    picture: >
                      [[[
                        return `<img src="/local/${entity.entity_id}.jpg" style="width:75px;height:75px" />`;
                      ]]]

        - type: custom:button-card
          name: Oasira Video Call
          icon: mdi:video-outline
          tap_action:
            action: url
            url_path: https://meet.jit.si/Oasira%20Senior%20Living%20Room%20Demo%201#userInfo.displayName="Oasira%20Demo%20User%201"


  - type: sections
    subview: true
    path: lighting
    title: Lighting
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Area Lights
          - type: "custom:auto-entities"
            card:
              type: "grid"
              square: false
              columns: 2
            card_param: "cards"
            filter:
              include:
                - domain: "light"
                  entity_id: "light.area_*"
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

      - type: grid
        cards:
          - type: heading
            heading: All Lights
          - type: "custom:auto-entities"
            card:
              type: "grid"
              square: false
              columns: 2
            card_param: "cards"

            filter:
              include:
                - domain: "light"
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
                - entity_id: "light.area_*"
            sort:
              method: name

  - type: sections
    title: Security
    path: security
    subview: true
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Security Alarm

          - type: tile
            entity: alarm_control_panel.oasira_b2b_alarm_panel

          - type: vertical-stack
            cards:
              - type: entities
                entities:
                  - entity: sensor.alarm_id_sensor
                  - entity: sensor.alarm_last_event_sensor
                  - entity: sensor.alarm_status_sensor
                  - entity: sensor.alarm_owner_id_sensor
                  - entity: binary_sensor.monitoring_alarm_sensor
                  - entity: binary_sensor.medical_alert_sensor
              - type: horizontal-stack
                cards:
                  - show_name: true
                    show_icon: true
                    type: button
                    tap_action:
                      action: perform-action
                      target: {}
                      perform_action: oasira_b2b.getalarmstatusservice
                    name: Get Latest Alarm Status
                  - show_name: true
                    show_icon: true
                    type: button
                    tap_action:
                      action: perform-action
                      target: {}
                      perform_action: oasira_b2b.cancelalarmservice
                    name: Cancel Alarm
      - type: grid
        cards:
          - type: heading
            heading: Locks

          - type: custom:auto-entities
            card:
              type: grid
              columns: 2
              square: false
            card_param: cards
            filter:
              include:
                - domain: lock
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
          - type: vertical-stack
            cards:
              - type: entities
                entities:
                  - entity: input_text.ownerslockcode_pin
                    name: Owner PIN
                  - entity: input_text.templockcode_pin
                    name: Temp Code
                show_header_toggle: false
                state_color: false
              - type: horizontal-stack
                cards:
                  - show_name: true
                    show_icon: false
                    type: button
                    tap_action:
                      action: perform-action
                      target: {}
                      perform_action: script.eh_set_master_door_code
                    name: Set Master Code
                    show_state: false
                  - show_name: true
                    show_icon: false
                    type: button
                    tap_action:
                      action: perform-action
                      target: {}
                      perform_action: script.eh_set_temporary_door_code
                    name: Set Temp Code
                    show_state: false

      - type: grid
        cards:
          - type: heading
            heading: Covers
          - type: custom:auto-entities
            card:
              type: grid
              columns: 2
              square: false
            card_param: cards
            filter:
              include:
                - domain: cover
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

      - type: grid
        cards:
          - type: heading
            heading: Sensors

          - type: custom:auto-entities
            card:
              type: grid
              columns: 2
              square: false
            card_param: cards
            filter:
              include:
                - domain: binary_sensor
                  attributes:
                    device_class: door
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: binary_sensor
                  attributes:
                    device_class: window
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: binary_sensor
                  attributes:
                    device_class: presence
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: binary_sensor
                  attributes:
                    device_class: motion
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: binary_sensor
                  attributes:
                    device_class: smoke
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: binary_sensor
                  attributes:
                    device_class: carbon_monoxide
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

  - type: panel
    title: Cameras
    path: cameras
    subview: true
    cards:
    - type: "custom:auto-entities"
      card:
        type: "grid"
        columns: 4
        square: false
      card_param: "cards"
      filter:
        include:
          - domain: "camera"
            options:
              type: custom:button-card
              template: camera_tile_card
              entity: this.entity_id
        exclude:
          - state: "unavailable"
          - hidden_by: "user"
      sort:
        method: name

  - type: sections
    title: Climate
    path: climate
    subview: true
    sections:
      - type: grid
        cards:
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "climate"
                  options:
                    features:
                      - type: target-temperature
                      - style: icons
                        type: climate-hvac-modes
                        hvac_modes:
                          - heat_cool
                          - cool
                          - fan_only
                          - 'off'
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                    show_entity_picture: false
                    hide_state: false
                    state_content: current_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-border-radius: 30px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

      - type: grid
        cards:
          - type: "custom:auto-entities"
            card:
              type: "grid"
              columns: 2
              square: false
            card_param: "cards"

            filter:
              include:
                - domain: sensor
                  attributes:
                    device_class: temperature
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true

              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

          - type: "custom:auto-entities"
            card:
              type: "grid"
              columns: 2
              square: false
            card_param: "cards"

            filter:
              include:
                - domain: sensor
                  attributes:
                    device_class: humidity
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

  - type: panel
    title: Media
    path: media
    subview: true
    cards:
      - type: "custom:auto-entities"
        card:
          type: grid
          columns: 4
          square: false
        card_param: "cards"
        filter:
          include:
            - domain: "media_player"
              options:
                type: media-control
                entity: this.entity_id
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 24px;
                      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
                      font-family: "Google Sans", "Roboto", sans-serif;
                      padding: 16px;
                    }

                    .entity__info, .media-info__info {
                      padding-left: 12px;
                    }

                    .media-info__title {
                      font-size: 20px;
                      font-weight: 500;
                      color: #222;
                    }

                    .media-info__subtitle {
                      font-size: 16px;
                      color: #666;
                    }

                    .player {
                      margin-top: 12px;
                    }

                    .player__title, .player__subtitle {
                      font-size: 16px;
                    }

                    .controls {
                      padding-top: 12px;
                    }

                    .slider {
                      --mdc-theme-primary: #333;
                      height: 2px;
                    }

                    .icon-button {
                      color: #222;
                    }

                    mwc-icon-button {
                      --mdc-icon-button-size: 40px;
                    }
          exclude:
            - state: "unavailable"
            - hidden_by: "user"
        sort:
          method: name

  - type: panel
    title: Gallery
    path: gallery
    subview: true
    cards:
      - type: custom:gallery-card
        entities:
          - path: media-source://media_source/local/snapshots/
            recursive: true
        menu_alignment: Responsive
        maximum_files: 1000
        file_name_format: YYYYMMDD-HHmmss
        caption_format: M/D h:mm A
        enable_date_search: false
        search_date_folder_format: YYYYMMDD

#AREAS ---------------------
#Family Room
  - type: sections
    title: Family Room
    path: familyroom
    subview: true
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "light"
                  area: "familyroom"
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Switches
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "switch"
                  area: "familyroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Locks
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "lock"
                  area: "familyroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Climate
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "climate"
                  area: "familyroom"
                  options:
                    features:
                      - type: target-temperature
                      - style: icons
                        type: climate-hvac-modes
                        hvac_modes:
                          - heat_cool
                          - cool
                          - fan_only
                          - 'off'
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                    show_entity_picture: false
                    hide_state: false
                    state_content: current_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-border-radius: 30px;
                        }
            sort:
              method: name
              exclude:
                - state: "unavailable"
                - hidden_by: "user"

      - type: grid
        cards:
          - type: heading
            heading: Sensors
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "sensor"
                  area: "familyroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: "binary_sensor"
                  area: "familyroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Media
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "media_player"
                  area: "familyroom"
                  options:
                    type: media-control
                    entity: this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 24px;
                          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
                          font-family: "Google Sans", "Roboto", sans-serif;
                          padding: 16px;
                        }

                        .entity__info, .media-info__info {
                          padding-left: 12px;
                        }

                        .media-info__title {
                          font-size: 20px;
                          font-weight: 500;
                          color: #222;
                        }

                        .media-info__subtitle {
                          font-size: 16px;
                          color: #666;
                        }

                        .player {
                          margin-top: 12px;
                        }

                        .player__title, .player__subtitle {
                          font-size: 16px;
                        }

                        .controls {
                          padding-top: 12px;
                        }

                        .slider {
                          --mdc-theme-primary: #333;
                          height: 2px;
                        }

                        .icon-button {
                          color: #222;
                        }

                        mwc-icon-button {
                          --mdc-icon-button-size: 40px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Cover
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "cover"
                  area: "familyroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

#Kitchen
  - type: sections
    title: Kitchen
    path: kitchen
    subview: true
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "light"
                  area: "kitchen"
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Switches
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "switch"
                  area: "kitchen"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Locks
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "lock"
                  area: "kitchen"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Climate
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "climate"
                  area: "kitchen"
                  options:
                    features:
                      - type: target-temperature
                      - style: icons
                        type: climate-hvac-modes
                        hvac_modes:
                          - heat_cool
                          - cool
                          - fan_only
                          - 'off'
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                    show_entity_picture: false
                    hide_state: false
                    state_content: current_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-border-radius: 30px;
                        }

            sort:
              method: name
              exclude:
                - state: "unavailable"
                - hidden_by: "user"

      - type: grid
        cards:
          - type: heading
            heading: Sensors
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "sensor"
                  area: "kitchen"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: "binary_sensor"
                  area: "kitchen"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Media
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "media_player"
                  area: "kitchen"
                  options:
                    type: media-control
                    entity: this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 24px;
                          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
                          font-family: "Google Sans", "Roboto", sans-serif;
                          padding: 16px;
                        }

                        .entity__info, .media-info__info {
                          padding-left: 12px;
                        }

                        .media-info__title {
                          font-size: 20px;
                          font-weight: 500;
                          color: #222;
                        }

                        .media-info__subtitle {
                          font-size: 16px;
                          color: #666;
                        }

                        .player {
                          margin-top: 12px;
                        }

                        .player__title, .player__subtitle {
                          font-size: 16px;
                        }

                        .controls {
                          padding-top: 12px;
                        }

                        .slider {
                          --mdc-theme-primary: #333;
                          height: 2px;
                        }

                        .icon-button {
                          color: #222;
                        }

                        mwc-icon-button {
                          --mdc-icon-button-size: 40px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Cover
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "cover"
                  area: "kitchen"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

#Bedroom
  - type: sections
    title: Bedroom
    path: bedroom
    subview: true
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "light"
                  area: "bedroom"
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Switches
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "switch"
                  area: "bedroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Locks
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "lock"
                  area: "bedroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Climate
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "climate"
                  area: "bedroom"
                  options:
                    features:
                      - type: target-temperature
                      - style: icons
                        type: climate-hvac-modes
                        hvac_modes:
                          - heat_cool
                          - cool
                          - fan_only
                          - 'off'
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                    show_entity_picture: false
                    hide_state: false
                    state_content: current_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-border-radius: 30px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
              exclude:
                - state: "unavailable"
                - hidden_by: "user"

      - type: grid
        cards:
          - type: heading
            heading: Sensors
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "sensor"
                  area: "bedroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: "binary_sensor"
                  area: "bedroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Media
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "media_player"
                  area: "bedroom"
                  options:
                    type: media-control
                    entity: this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 24px;
                          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
                          font-family: "Google Sans", "Roboto", sans-serif;
                          padding: 16px;
                        }

                        .entity__info, .media-info__info {
                          padding-left: 12px;
                        }

                        .media-info__title {
                          font-size: 20px;
                          font-weight: 500;
                          color: #222;
                        }

                        .media-info__subtitle {
                          font-size: 16px;
                          color: #666;
                        }

                        .player {
                          margin-top: 12px;
                        }

                        .player__title, .player__subtitle {
                          font-size: 16px;
                        }

                        .controls {
                          padding-top: 12px;
                        }

                        .slider {
                          --mdc-theme-primary: #333;
                          height: 2px;
                        }

                        .icon-button {
                          color: #222;
                        }

                        mwc-icon-button {
                          --mdc-icon-button-size: 40px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Cover
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "cover"
                  area: "bedroom"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

#Basement
  - type: sections
    title: Basement
    path: basement
    subview: true
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "light"
                  area: "basement"
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Switches
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "switch"
                  area: "basement"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Locks
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "lock"
                  area: "basement"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Climate
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "climate"
                  area: "basement"
                  options:
                    features:
                      - type: target-temperature
                      - style: icons
                        type: climate-hvac-modes
                        hvac_modes:
                          - heat_cool
                          - cool
                          - fan_only
                          - 'off'
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                    show_entity_picture: false
                    hide_state: false
                    state_content: current_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-border-radius: 30px;
                        }

            sort:
              method: name
              exclude:
                - state: "unavailable"
                - hidden_by: "user"

      - type: grid
        cards:
          - type: heading
            heading: Sensors
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "sensor"
                  area: "basement"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: "binary_sensor"
                  area: "basement"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Media
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "media_player"
                  area: "basement"
                  options:
                    type: media-control
                    entity: this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 24px;
                          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
                          font-family: "Google Sans", "Roboto", sans-serif;
                          padding: 16px;
                        }

                        .entity__info, .media-info__info {
                          padding-left: 12px;
                        }

                        .media-info__title {
                          font-size: 20px;
                          font-weight: 500;
                          color: #222;
                        }

                        .media-info__subtitle {
                          font-size: 16px;
                          color: #666;
                        }

                        .player {
                          margin-top: 12px;
                        }

                        .player__title, .player__subtitle {
                          font-size: 16px;
                        }

                        .controls {
                          padding-top: 12px;
                        }

                        .slider {
                          --mdc-theme-primary: #333;
                          height: 2px;
                        }

                        .icon-button {
                          color: #222;
                        }

                        mwc-icon-button {
                          --mdc-icon-button-size: 40px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Cover
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "cover"
                  area: "basement"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

#Garage
  - type: sections
    title: Garage
    path: garage
    subview: true
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "light"
                  area: "garage"
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Switches
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "switch"
                  area: "garage"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Locks
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "lock"
                  area: "garage"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Climate
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "climate"
                  area: "garage"
                  options:
                    features:
                      - type: target-temperature
                      - style: icons
                        type: climate-hvac-modes
                        hvac_modes:
                          - heat_cool
                          - cool
                          - fan_only
                          - 'off'
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                    show_entity_picture: false
                    hide_state: false
                    state_content: current_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-border-radius: 30px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

      - type: grid
        cards:
          - type: heading
            heading: Sensors
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "sensor"
                  area: "garage"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: "binary_sensor"
                  area: "garage"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Media
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "media_player"
                  area: "garage"
                  options:
                    type: media-control
                    entity: this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 24px;
                          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
                          font-family: "Google Sans", "Roboto", sans-serif;
                          padding: 16px;
                        }

                        .entity__info, .media-info__info {
                          padding-left: 12px;
                        }

                        .media-info__title {
                          font-size: 20px;
                          font-weight: 500;
                          color: #222;
                        }

                        .media-info__subtitle {
                          font-size: 16px;
                          color: #666;
                        }

                        .player {
                          margin-top: 12px;
                        }

                        .player__title, .player__subtitle {
                          font-size: 16px;
                        }

                        .controls {
                          padding-top: 12px;
                        }

                        .slider {
                          --mdc-theme-primary: #333;
                          height: 2px;
                        }

                        .icon-button {
                          color: #222;
                        }

                        mwc-icon-button {
                          --mdc-icon-button-size: 40px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Cover
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "cover"
                  area: "garage"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

#Outdoor
  - type: sections
    title: Outdoor
    path: outdoor
    subview: true
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "light"
                  area: "outdoor"
                  options:
                    type: custom:button-card
                    template: light_tile
                    entity: this.entity_id
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Switches
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "switch"
                  area: "outdoor"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Locks
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "lock"
                  area: "outdoor"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Climate
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "climate"
                  area: "outdoor"
                  options:
                    features:
                      - type: target-temperature
                      - style: icons
                        type: climate-hvac-modes
                        hvac_modes:
                          - heat_cool
                          - cool
                          - fan_only
                          - 'off'
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                    show_entity_picture: false
                    hide_state: false
                    state_content: current_temperature
                    card_mod:
                      style: |
                        ha-card {
                          --ha-card-border-radius: 30px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Sensors
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "sensor"
                  area: "outdoor"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
                - domain: "binary_sensor"
                  area: "outdoor"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Media
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 1
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "media_player"
                  area: "outdoor"
                  options:
                    type: media-control
                    entity: this.entity_id
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 24px;
                          box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.05);
                          font-family: "Google Sans", "Roboto", sans-serif;
                          padding: 16px;
                        }

                        .entity__info, .media-info__info {
                          padding-left: 12px;
                        }

                        .media-info__title {
                          font-size: 20px;
                          font-weight: 500;
                          color: #222;
                        }

                        .media-info__subtitle {
                          font-size: 16px;
                          color: #666;
                        }

                        .player {
                          margin-top: 12px;
                        }

                        .player__title, .player__subtitle {
                          font-size: 16px;
                        }

                        .controls {
                          padding-top: 12px;
                        }

                        .slider {
                          --mdc-theme-primary: #333;
                          height: 2px;
                        }

                        .icon-button {
                          color: #222;
                        }

                        mwc-icon-button {
                          --mdc-icon-button-size: 40px;
                        }
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name
      - type: grid
        cards:
          - type: heading
            heading: Cover
          - type: "custom:auto-entities"
            card:
              type: grid
              columns: 2
              square: false
            card_param: "cards"
            filter:
              include:
                - domain: "cover"
                  area: "outdoor"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name

  - type: sections
    title: System
    path: system
    subview: true
    sections:
          
      - type: grid
        cards:
          - type: heading
            heading: Updates

          - type: custom:auto-entities
            card:
              type: grid
              columns: 2
              square: false
            card_param: cards
            filter:
              include:
                - domain: update
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - state: "unknown"
                - hidden_by: "user"
            sort:
              method: name

      - type: grid
        cards:
          - type: heading
            heading: Batteries

          - type: custom:auto-entities
            card:
              type: grid
              columns: 2
              square: false
            card_param: cards
            filter:
              include:
                - entity_id: "*_battery*"
                  domain: "sensor"
                  options:
                    type: tile
                    entity: this.entity_id
                    features_position: bottom
                    vertical: true
              exclude:
                - state: "unavailable"
                - hidden_by: "user"
            sort:
              method: name